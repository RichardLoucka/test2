import{a as l,b as m}from"./lib.RD75MZYZ.js";var u={Accept:"application/web.lichess+json"},h={cache:"no-cache",credentials:"same-origin"},g={"X-Requested-With":"XMLHttpRequest"},c=e=>{if(e.ok)return e;throw e.status===429?new Error("Too many requests"):e.status===413?new Error("The uploaded file is too large"):new Error(`Error ${e.status}`)},y=(e,t={})=>fetch(e,{headers:{...u},...t}).then(o=>c(o).json()),P=(e,t={})=>x(e,t).then(o=>c(o).json()),x=(e,t={})=>fetch(e,{...h,headers:{...u,...g},...t}),a=(e,t={})=>w(e,t).then(o=>c(o).text()),w=(e,t={})=>fetch(e,{...h,headers:{...g},...t}),T=e=>new Promise((t,o)=>{let n=document.body.getAttribute("data-nonce"),r=document.createElement("script");n&&r.setAttribute("nonce",n),r.onload=t,r.onerror=o,r.src=e,document.head.append(r)}),v=e=>{let t=new FormData;for(let o of Object.keys(e))m(e[o])&&t.append(o,e[o].toString());return t},j=(e,t)=>{let o=new URLSearchParams;for(let r of Object.keys(t))l(t[r])&&o.append(r,t[r].toString());let n=o.toString();return n?`${e}?${n}`:e},q=(e,t)=>{let o=e.getAttribute("action"),n=new FormData(e);return t!=null&&t.name&&(t!=null&&t.value)&&n.set(t.name,t.value),o?a(o,{method:e.method,body:n}):Promise.reject(`Form has no action: ${e}`)},I=async(e,t)=>{if(!e.ok)throw new Error(`Status ${e.status}`);let o=e.body.getReader(),n=/\r?\n/,r=new TextDecoder,i="",s,d;do{({done:s,value:d}=await o.read()),i+=r.decode(d||new Uint8Array,{stream:!s});let p=i.split(n);s||(i=p.pop());for(let f of p)f&&t(JSON.parse(f))}while(!s)};async function b(e,t){if(typeof ClipboardItem=="undefined"){let o=await a(e);return navigator.clipboard.writeText(o).then(t)}else{let o=new ClipboardItem({"text/plain":a(e).then(n=>new Blob([n],{type:"text/plain"}))});return navigator.clipboard.write([o]).then(t)}}export{u as a,h as b,g as c,c as d,y as e,P as f,x as g,a as h,w as i,T as j,v as k,j as l,q as m,I as n,b as o};
