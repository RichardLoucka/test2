var t=class{constructor(){this.allSubs=new Map;this.oneTimeEvents=new Map}on(i,n){let e=this.allSubs.get(i);e?e.add(n):this.allSubs.set(i,new Set([n]))}off(i,n){var e;(e=this.allSubs.get(i))==null||e.delete(n)}emit(i,...n){let e=this.allSubs.get(i);if(e)for(let s of e)s(...n)}after(i){let n=this.oneTimeEvents.get(i);if(n)return n.promise;let e={};return e.promise=new Promise(s=>e.resolve=s),this.oneTimeEvents.set(i,e),e.promise}complete(i,n){var s;let e=this.oneTimeEvents.get(i);e?((s=e.resolve)==null||s.call(e,n),e.resolve=void 0):this.oneTimeEvents.set(i,{promise:Promise.resolve(n)})}past(i){var n;return this.oneTimeEvents.has(i)&&!((n=this.oneTimeEvents.get(i))!=null&&n.resolve)}},a=new t;export{a};
