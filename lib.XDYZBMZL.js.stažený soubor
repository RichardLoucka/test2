import{d as r}from"./lib.P2KHB2MX.js";import{a as p}from"./lib.K5BZ6UV3.js";import{h}from"./lib.PA5MQ22V.js";import{N as v}from"./lib.RD75MZYZ.js";var C=()=>document.body.dispatchEvent(new Event("chessground.resize"));function w(e,o,g,d){if(o===r.Never)return;let s=document.createElement("cg-resize");e.container.appendChild(s);let u=t=>{t.preventDefault();let n=t.type==="touchstart"?"touchmove":"mousemove",b=t.type==="touchstart"?"touchend":"mouseup",c=E(t),m=parseInt(window.getComputedStyle(document.body).getPropertyValue("---zoom")),i=m,y=v(()=>h(`/pref/zoom?v=${i}`,{method:"post"}),700),a=z=>{let l=E(z),f=l[0]-c[0]+l[1]-c[1];i=Math.round(Math.min(100,Math.max(0,m+f/10))),document.body.style.setProperty("---zoom",i.toString()),window.dispatchEvent(new Event("resize")),y()};document.body.classList.add("resizing"),document.addEventListener(n,a),document.addEventListener(b,()=>{document.removeEventListener(n,a),document.body.classList.remove("resizing")},{once:!0})};if(s.addEventListener("touchstart",u,{passive:!1}),s.addEventListener("mousedown",u,{passive:!1}),o===r.OnlyAtStart){let t=n=>s.classList.toggle("none",d?!d(n):n>=2);t(g),p.on("ply",t)}}function E(e){var o;if(e.clientX||e.clientX===0)return[e.clientX,e.clientY];if((o=e.targetTouches)!=null&&o[0])return[e.targetTouches[0].clientX,e.targetTouches[0].clientY]}export{C as a,w as b};
