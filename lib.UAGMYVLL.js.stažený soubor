import{d as u}from"./lib.PUZNKYJD.js";import{j as p}from"./lib.PA5MQ22V.js";import{i as d}from"./lib.RD75MZYZ.js";import{b as f}from"./lib.XNXLGS2X.js";var j={};f(j,{baseUrl:()=>g,embedChessground:()=>V,fideFedSrc:()=>b,flairSrc:()=>y,jsModule:()=>c,loadCss:()=>h,loadCssPath:()=>P,loadEsm:()=>v,loadEsmPage:()=>E,loadI18n:()=>M,loadIife:()=>C,loadPieces:()=>I,removeCss:()=>_,removeCssPath:()=>O,url:()=>i});var g=d(()=>document.body.getAttribute("data-asset-url")||""),w=d(()=>document.body.getAttribute("data-asset-version")),i=(t,e={})=>{let s=e.documentOrigin?window.location.origin:e.pathOnly?"":g(),n=e.pathVersion?e.pathVersion===!0?`_${w()}/`:`_${e.pathVersion}/`:"",o=!n&&site.manifest.hashed[t];return`${s}/assets/${o?x(t,o):`${n}${t}`}`};function x(t,e){let s=t.slice(t.lastIndexOf("/")+1),n=s.lastIndexOf(".");return`hashed/${n<0?`${s}.${e}`:`${s.slice(0,n)}.${e}${s.slice(n)}`}`}var y=t=>i(`flair/img/${t}.webp`,{pathVersion:"_____4"}),b=t=>i(`fide/fed-webp/${t}.webp`,{pathVersion:"_____2"}),h=(t,e)=>new Promise(s=>{if(t=t.startsWith("https:")?t:i(t),document.head.querySelector(`link[href="${t}"]`))return s();let n=document.createElement("link");e&&n.setAttribute("data-css-key",e),n.rel="stylesheet",n.href=t,n.onload=()=>s(),document.head.append(n)}),P=async t=>{let e=site.manifest.css[t];await h(`css/${t}${e?`.${e}`:""}.css`,t)},_=t=>$(`head > link[href="${t}"]`).remove(),O=t=>$(`head > link[data-css-key="${t}"]`).remove(),c=(t,e="compiled/")=>{t.endsWith(".js")&&(t=t.slice(0,-3));let s=site.manifest.js[t];return`${e}${t}${s?`.${s}`:""}.js`},m=new Map,C=(t,e={})=>(m.has(t)||m.set(t,p(i(t,e))),m.get(t));async function v(t,e={}){var o;let s=await import(i(e.npm?c(t,"npm/"):c(t),e)),n=(o=s.initModule)!=null?o:s.default;return e.npm&&!e.init?n:n(e.init)}var E=async t=>{let e=import(i(c(t))),s=document.getElementById("page-init-data"),n=s&&JSON.parse(s.innerHTML);s==null||s.remove();let o=await e;o.initModule?o.initModule(n):o.default(n)},M=async t=>{await import(document.body.dataset.i18nCatalog);let e=window.site,s=`compiled/i18n/${t}.${document.documentElement.lang}.${e.manifest.i18n[t]}.js`;await import(i(s))};function V(){return import(i("npm/chessground.min.js"))}var I=new Promise((t,e)=>{var l;if((l=document.getElementById("main-wrap"))!=null&&l.classList.contains("is3d"))return t();let s=window.getComputedStyle(document.body),n=u.flatMap(r=>["pawn","knight","bishop","rook","queen","king"].map(a=>`---${r}-${a}`)).map(r=>s.getPropertyValue(r).slice(4,-1).replace(/\\([:/.])/g,"$1")).filter(r=>r),o=n.length;if(o===0)return t();n.forEach(r=>{let a=new Image;a.src=r,a.decode().then(()=>{--o===0&&t()}).catch(e)})});export{i as a,P as b,c,v as d,V as e,j as f};
